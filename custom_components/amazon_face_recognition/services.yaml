scan:
  name: Scan
  description: Runs a Rekognition scan on the selected camera (in-memory snapshot).
  fields:
    entity_id:
      name: Camera
      description: Camera entity from which the snapshot is taken.
      required: true
      selector:
        entity:
          domain: camera

index_face:
  name: Index face
  description: Indexes a face into the AWS collection using a local image file.
  fields:
    file:
      name: File
      description: FULL path to the image file (e.g. /config/www/.../mattia_01.jpg).
      required: true
      selector:
        text:
    name:
      name: Name
      description: Person name associated with the face (ExternalImageId).
      required: true
      selector:
        text:

delete_face_by_id:
  name: Delete face by ID
  description: Deletes a face from the collection using its FaceId.
  fields:
    face_id:
      name: Face ID
      required: true
      selector:
        text:

delete_faces_by_name:
  name: Delete faces by name
  description: Deletes all faces associated with a name (ExternalImageId).
  fields:
    name:
      name: Name
      required: true
      selector:
        text:

delete_all_faces:
  name: Delete all faces
  description: Deletes all faces from the collection.
  fields: {}

aws_selftest:
  name: AWS self-test
  description: Runs a quick AWS connectivity test (STS + Rekognition + optional S3).
  fields:
    entry_id:
      name: Entry ID
      description: Optional config entry ID (only required if multiple AFR entries are configured).
      example: "abcd1234efgh5678"
      required: false
      selector:
        text:
